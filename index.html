<!DOCTYPE html>
<html lang="zh-CN" x-data="{ currentLang: 'zh' }">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title x-text="languages[currentLang].title">361Â° å®˜æ–¹å•†åŸŽ - å¤šä¸€åº¦çƒ­çˆ±</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans SC', 'Inter', sans-serif;
    }
    .product-card:hover img {
      transform: scale(1.05);
    }
    .size-btn.selected, .color-btn.selected {
        border-color: #111827;
        background-color: #111827;
        color: #ffffff;
    }
    .size-btn:disabled {
        background-color: #f3f4f6;
        color: #d1d5db;
        cursor: not-allowed;
        position: relative;
        overflow: hidden;
    }
    .size-btn:disabled::after {
        content: '';
        position: absolute;
        top: 50%;
        left: -10%;
        width: 120%;
        height: 1px;
        background: #9ca3af;
        transform: rotate(-45deg);
    }
    [x-cloak] { display: none !important; }
  </style>
</head>
<body x-data="app()" x-cloak class="bg-gray-50">
  <!-- Loading Spinner -->
  <div x-show="isLoading" class="fixed inset-0 bg-white flex items-center justify-center z-50">
      <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"></div>
  </div>
  <!-- Header -->
  <header class="bg-white/90 backdrop-blur-sm shadow-sm sticky top-0 z-40">
    <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <h1 class="text-3xl font-bold text-red-600">361Â°</h1>
          <nav class="ml-10 hidden md:flex space-x-8">
            <button @click="activeCategory = 'all'" :class="activeCategory === 'all' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.all"></button>
            <button @click="activeCategory = 'running'" :class="activeCategory === 'running' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.running"></button>
            <button @click="activeCategory = 'lifestyle'" :class="activeCategory === 'lifestyle' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.lifestyle"></button>
            <button @click="activeCategory = 'basketball'" :class="activeCategory === 'basketball' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.basketball"></button>
            <button @click="activeCategory = 'training'" :class="activeCategory === 'training' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.training"></button>
            <button @click="activeCategory = 'outdoor'" :class="activeCategory === 'outdoor' ? 'text-red-600' : 'text-gray-700'" class="text-sm font-medium hover:text-red-600 transition-colors duration-200" x-text="languages[currentLang].categories.outdoor"></button>
          </nav>
        </div>
        <div class="flex items-center space-x-4">
          <div class="relative hidden sm:block">
            <input type="text" :placeholder="languages[currentLang].searchPlaceholder" x-model="searchTerm" class="pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm w-64 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all">
            <svg class="absolute left-3 top-2.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
          </div>
          <button @click="showCart = true" class="relative p-2 hover:bg-gray-100 rounded-full">
            <svg class="h-6 w-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
            <span x-show="cart.length > 0" x-text="getTotalItems()" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full"></span>
          </button>
          <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’® -->
          <button @click="toggleLanguage()" class="text-sm text-gray-700 hover:text-red-600 px-3 py-1 border border-gray-300 rounded-full">
            <span x-show="currentLang === 'zh'">English</span>
            <span x-show="currentLang === 'en'">ä¸­æ–‡</span>
          </button>
          <template x-if="!user">
            <button @click="showLoginModal = true" class="text-sm text-gray-700 hover:text-red-600" x-text="languages[currentLang].login"></button>
          </template>
          <template x-if="user">
            <div class="flex items-center space-x-4">
              <span class="text-sm text-gray-700 hidden sm:inline"><span x-text="languages[currentLang].welcome"></span>, <span x-text="user.name"></span></span>
              <button @click="logout()" class="text-sm text-gray-700 hover:text-red-600" x-text="languages[currentLang].logout"></button>
            </div>
          </template>
        </div>
      </div>
    </div>
  </header>
  <!-- Main Content -->
  <main class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-red-500 to-orange-500 rounded-lg shadow-lg p-8 md:p-12 mb-12 text-white flex items-center">
        <div class="flex-1">
            <h2 class="text-3xl md:text-5xl font-bold mb-2" x-text="languages[currentLang].hero.title"></h2>
            <p class="text-lg md:text-xl mb-6" x-text="languages[currentLang].hero.description"></p>
            <button @click="activeCategory = 'running'" class="bg-white text-red-600 font-bold py-3 px-6 rounded-lg hover:bg-gray-100 transition-colors" x-text="languages[currentLang].hero.button"></button>
        </div>
        <div class="hidden md:block w-1/3">
            <img src="https://picsum.photos/id/1/400/300" :alt="languages[currentLang].hero.imgAlt" class="transform -rotate-12 hover:rotate-0 transition-transform duration-500">
        </div>
    </div>
    <!-- Product Grid -->
    <div>
        <div class="flex items-center justify-between mb-6">
          <h1 class="text-2xl font-bold text-gray-800">
            <span x-text="categories.find(c => c.id === activeCategory)?.name"></span>
            <span class="text-gray-500 ml-2 text-lg">(<span x-text="filteredProducts.length"></span>)</span>
          </h1>
          <p class="text-sm text-gray-500" x-text="languages[currentLang].productGrid.subtitle"></p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <template x-for="product in filteredProducts" :key="product.id">
            <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow duration-300 product-card flex flex-col">
              <div class="relative overflow-hidden">
                <img :src="product.images[0]" :alt="product.name" class="w-full h-72 object-cover transition-transform duration-300">
                <template x-if="product.isNew">
                  <div class="absolute top-4 left-4 bg-red-600 text-white px-2 py-1 text-xs font-semibold rounded" x-text="languages[currentLang].productCard.new"></div>
                </template>
                <button @click="toggleFavorite(product.id)" class="absolute top-4 right-4 p-2 rounded-full bg-white/70 backdrop-blur-sm transition-colors duration-200">
                  <svg class="h-5 w-5" :class="favorites.includes(product.id) ? 'text-red-500 fill-current' : 'text-gray-500'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.682l-1.318-1.364a4.5 4.5 0 00-6.364 0z"></path></svg>
                </button>
              </div>
              <div class="p-4 flex flex-col flex-grow">
                <h3 class="text-base font-semibold text-gray-800 mb-2 line-clamp-2 flex-grow" x-text="product.name"></h3>
                <p class="text-sm text-gray-500 mb-3" x-text="`${product.colors.length} ${languages[currentLang].productCard.colors}`"></p>
                <div class="flex items-center mb-4">
                  <span class="text-lg font-bold text-red-600">Â¥<span x-text="product.salePrice"></span></span>
                  <span class="text-sm text-gray-500 line-through ml-2">Â¥<span x-text="product.retailPrice"></span></span>
                </div>
                <button @click="displayProductInModal(product)" class="w-full bg-gray-900 text-white py-2.5 rounded-lg hover:bg-gray-700 transition-colors duration-200 font-semibold text-sm" x-text="languages[currentLang].productCard.selectOptions"></button>
              </div>
            </div>
          </template>
        </div>
      </div>
    </div>
  </main>
  <!-- Product Detail Modal -->
  <div x-show="selectedProduct" @keydown.escape.window="closeProductModal()" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
    <div @click.away="closeProductModal()" class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto" x-show="selectedProduct" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95">
      <template x-if="selectedProduct">
        <div class="p-6">
          <div class="flex justify-end">
            <button @click="closeProductModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
          </div>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div>
              <img :src="modalImage" :alt="selectedProduct.name" class="w-full h-96 object-cover rounded-lg mb-4">
              <div class="grid grid-cols-4 gap-2">
                  <template x-for="img in selectedProduct.images" :key="img">
                      <img :src="img" @click="modalImage = img" class="w-full h-24 object-cover rounded-md cursor-pointer" :class="{'ring-2 ring-red-500': modalImage === img}">
                  </template>
              </div>
            </div>
            <div class="flex flex-col">
              <h2 class="text-2xl font-bold text-gray-800" x-text="selectedProduct.name"></h2>
              <p class="text-sm text-gray-500 mt-1"><span x-text="languages[currentLang].productModal.model"></span>: <span x-text="selectedProduct.model"></span></p>
              <div class="flex items-center my-4">
                <span class="text-2xl font-bold text-red-600">Â¥<span x-text="selectedProduct.salePrice"></span></span>
                <span class="text-lg text-gray-500 line-through ml-3">Â¥<span x-text="selectedProduct.retailPrice"></span></span>
              </div>
              <p class="text-gray-700 text-sm mb-6" x-text="selectedProduct.description"></p>
              <div class="mt-auto">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2"><span x-text="languages[currentLang].productModal.color"></span>: <span x-text="selectedColor" class="font-bold"></span></label>
                  <div class="flex flex-wrap gap-2">
                    <template x-for="color in selectedProduct.colors" :key="color">
                      <button @click="selectedColor = color" :class="{'selected': selectedColor === color}" class="color-btn px-4 py-2 border rounded-full text-sm transition-colors duration-200" x-text="color"></button>
                    </template>
                  </div>
                </div>
                <div class="mt-4">
                  <label class="block text-sm font-medium text-gray-700 mb-2" x-text="languages[currentLang].productModal.size"></label>
                  <div class="grid grid-cols-4 gap-2">
                    <template x-for="sizeInfo in selectedProduct.sizes" :key="sizeInfo.size">
                      <button @click="selectedSize = sizeInfo.size" :disabled="!sizeInfo.inStock" :class="{'selected': selectedSize === sizeInfo.size}" class="size-btn h-10 border rounded text-sm transition-colors duration-200" x-text="sizeInfo.size"></button>
                    </template>
                  </div>
                </div>
                <button @click="handleAddToCart()" :disabled="!selectedSize || !selectedColor" class="w-full mt-4 bg-gray-900 text-white py-3 rounded-lg font-semibold transition-colors duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-gray-700" x-text="languages[currentLang].productModal.addToCart"></button>
              </div>
            </div>
          </div>
        </div>
      </template>
    </div>
  </div>
  <!-- Shopping Cart Sidebar -->
  <div x-show="showCart" @keydown.escape.window="showCart = false" class="fixed inset-0 z-50">
      <div x-show="showCart" @click="showCart = false" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="absolute inset-0 bg-black bg-opacity-50"></div>
      <div x-show="showCart" x-transition:enter="transform transition ease-in-out duration-300" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transform transition ease-in-out duration-300" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full" class="fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-xl flex flex-col">
          <div class="flex items-center justify-between p-6 border-b">
              <h3 class="text-xl font-bold text-gray-800" x-text="languages[currentLang].cart.title"></h3>
              <button @click="showCart = false" class="p-2 hover:bg-gray-100 rounded-full text-xl">&times;</button>
          </div>
          <div class="flex-grow p-6 overflow-y-auto">
              <template x-if="cart.length === 0">
                  <div class="text-center py-8 text-gray-500">
                      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                      <p class="mt-4" x-text="languages[currentLang].cart.empty"></p>
                      <button @click="showCart = false" class="mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700" x-text="languages[currentLang].cart.browse"></button>
                  </div>
              </template>
              <div class="space-y-4">
                  <template x-for="item in cart" :key="item.cartId">
                      <div class="flex space-x-4">
                          <img :src="item.image" :alt="item.name" class="w-24 h-24 object-cover rounded-md">
                          <div class="flex-1 min-w-0">
                              <h4 class="text-sm font-semibold text-gray-800 truncate" x-text="item.name"></h4>
                              <p class="text-xs text-gray-500" x-text="`${languages[currentLang].cart.size}: ${item.size} / ${languages[currentLang].cart.color}: ${item.color}`"></p>
                              <p class="text-sm font-bold text-red-600 mt-1">Â¥<span x-text="item.salePrice"></span></p>
                              <div class="flex items-center justify-between mt-2">
                                  <div class="flex items-center border rounded">
                                      <button @click="updateQuantity(item.cartId, item.quantity - 1)" class="w-7 h-7 flex items-center justify-center hover:bg-gray-100">-</button>
                                      <span class="w-8 text-center text-sm" x-text="item.quantity"></span>
                                      <button @click="updateQuantity(item.cartId, item.quantity + 1)" class="w-7 h-7 flex items-center justify-center hover:bg-gray-100">+</button>
                                  </div>
                                  <button @click="removeFromCart(item.cartId)" class="text-red-500 hover:text-red-700 text-xs font-semibold" x-text="languages[currentLang].cart.remove"></button>
                              </div>
                          </div>
                      </div>
                  </template>
              </div>
          </div>
          <template x-if="cart.length > 0">
              <div class="p-6 border-t bg-gray-50">
                  <div class="flex justify-between mb-4">
                      <span class="text-lg font-medium" x-text="languages[currentLang].cart.total"></span>
                      <span class="text-xl font-bold">Â¥<span x-text="getTotalPrice().toFixed(2)"></span></span>
                  </div>
                  <button class="w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors" x-text="languages[currentLang].cart.checkout"></button>
              </div>
          </template>
      </div>
  </div>
  <!-- Login Modal -->
  <div x-show="showLoginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
    <div @click.away="showLoginModal = false" class="bg-white rounded-lg max-w-md w-full p-6" x-show="showLoginModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95">
        <div class="flex justify-between items-center mb-6"><h2 class="text-2xl font-bold text-gray-800" x-text="languages[currentLang].loginModal.title"></h2><button @click="showLoginModal = false" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button></div>
        <form @submit.prevent="handleLogin" class="space-y-4">
          <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].loginModal.email"></label><input type="email" x-model="loginForm.email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="example@email.com" required></div>
          <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].loginModal.password"></label><input type="password" x-model="loginForm.password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="********" required></div>
          <button type="submit" class="w-full bg-red-600 text-white py-2 rounded-md hover:bg-red-700 transition-colors duration-200 font-semibold" x-text="languages[currentLang].loginModal.loginBtn"></button>
          <div class="text-center mt-4"><p class="text-sm text-gray-600"><span x-text="languages[currentLang].loginModal.noAccount"></span> <button type="button" @click="showLoginModal = false; showRegisterModal = true;" class="text-red-600 hover:text-red-700 font-medium" x-text="languages[currentLang].loginModal.registerLink"></button></p></div>
        </form>
    </div>
  </div>
  <!-- Register Modal -->
  <div x-show="showRegisterModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
    <div @click.away="showRegisterModal = false" class="bg-white rounded-lg max-w-md w-full p-6" x-show="showRegisterModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95">
        <div class="flex justify-between items-center mb-6"><h2 class="text-2xl font-bold text-gray-800" x-text="languages[currentLang].registerModal.title"></h2><button @click="showRegisterModal = false" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button></div>
        <form @submit.prevent="handleRegister" class="space-y-4">
            <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].registerModal.name"></label><input type="text" x-model="registerForm.name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" :placeholder="languages[currentLang].registerModal.namePlaceholder" required></div>
            <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].registerModal.email"></label><input type="email" x-model="registerForm.email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="example@email.com" required></div>
            <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].registerModal.password"></label><input type="password" x-model="registerForm.password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" :placeholder="languages[currentLang].registerModal.passwordPlaceholder" required minlength="6"></div>
            <div><label class="block text-sm font-medium text-gray-700 mb-1" x-text="languages[currentLang].registerModal.confirmPassword"></label><input type="password" x-model="registerForm.confirmPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" :placeholder="languages[currentLang].registerModal.confirmPasswordPlaceholder" required></div>
            <button type="submit" class="w-full bg-red-600 text-white py-2 rounded-md hover:bg-red-700 transition-colors duration-200 font-semibold" x-text="languages[currentLang].registerModal.registerBtn"></button>
            <div class="text-center mt-4"><p class="text-sm text-gray-600"><span x-text="languages[currentLang].registerModal.hasAccount"></span> <button type="button" @click="showRegisterModal = false; showLoginModal = true;" class="text-red-600 hover:text-red-700 font-medium" x-text="languages[currentLang].registerModal.loginLink"></button></p></div>
        </form>
    </div>
  </div>
  <!-- Footer -->
  <footer class="bg-gray-900 text-white mt-16">
    <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
            <h3 class="text-lg font-semibold mb-4" x-text="languages[currentLang].footer.brand.title"></h3>
            <p class="text-gray-300 text-sm" x-text="languages[currentLang].footer.brand.desc"></p>
        </div>
        <div>
            <h4 class="font-semibold mb-4" x-text="languages[currentLang].footer.customerService.title"></h4>
            <ul class="space-y-2 text-sm text-gray-300">
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.helpCenter"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.shippingInfo"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.returnPolicy"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.careGuide"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.orderQuery"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.invoiceInfo"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.customerService.membership"></a></li>
            </ul>
        </div>
        <div>
            <h4 class="font-semibold mb-4" x-text="languages[currentLang].footer.aboutUs.title"></h4>
            <ul class="space-y-2 text-sm text-gray-300">
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.brandStory"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.news"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.sustainability"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.careers"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.brandPhilosophy"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.achievements"></a></li>
                <li><a href="#" class="hover:text-white" x-text="languages[currentLang].footer.aboutUs.contactUs"></a></li>
            </ul>
        </div>
        <div>
            <h4 class="font-semibold mb-4" x-text="languages[currentLang].footer.subscribe.title"></h4>
            <p class="text-gray-300 text-sm mb-4" x-text="languages[currentLang].footer.subscribe.desc"></p>
            <div class="flex">
                <input type="email" :placeholder="languages[currentLang].footer.subscribe.placeholder" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-l-md text-sm focus:outline-none focus:ring-2 focus:ring-red-500 text-white" aria-label="é‚®ç®±åœ°å€">
                <button class="bg-red-600 px-4 py-2 rounded-r-md text-sm font-semibold hover:bg-red-700" x-text="languages[currentLang].footer.subscribe.button"></button>
            </div>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400">
        <p x-text="languages[currentLang].footer.copyright"></p>
      </div>
    </div>
  </footer>
  <!-- Toast Notification -->
  <div x-show="toast.show" x-text="toast.message"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform translate-y-2"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100 transform translate-y-0"
        x-transition:leave-end="opacity-0 transform translate-y-2"
        class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-4 py-2 rounded-full shadow-lg z-50">
  </div>
  <script>
    function app() {
      return {
        // State
        isLoading: true,
        activeCategory: 'all',
        searchTerm: '',
        cart: [],
        favorites: [],
        selectedProduct: null,
        modalImage: '',
        selectedSize: null,
        selectedColor: null,
        showCart: false,
        showLoginModal: false,
        showRegisterModal: false,
        user: null,
        loginForm: { email: '', password: '' },
        registerForm: { name: '', email: '', password: '', confirmPassword: ''},
        toast: { show: false, message: '', timer: null },
        // Language Pack
        languages: {
          zh: {
            title: '361Â° å®˜æ–¹å•†åŸŽ - å¤šä¸€åº¦çƒ­çˆ±',
            categories: { all: 'ðŸ‘Ÿ å…¨éƒ¨', running: 'ðŸƒ è·‘æ­¥', lifestyle: 'ðŸ‘• ä¼‘é—²', basketball: 'ðŸ€ ç¯®çƒ', training: 'ðŸ‹ï¸ è®­ç»ƒ', outdoor: 'â›°ï¸ æˆ·å¤–' },
            searchPlaceholder: 'æœç´¢æ‚¨å–œçˆ±çš„361Â°å•†å“...',
            login: 'ç™»å½•',
            welcome: 'æ¬¢è¿Ž',
            logout: 'é€€å‡º',
            hero: { title: 'é£žç‡ƒ3ä»£ï¼Œç–¾é€Ÿä¸Šå¸‚', description: 'ä¸ºé€Ÿåº¦è€Œç”Ÿï¼Œä½“éªŒæžè‡´è½»ç›ˆä¸Žå›žå¼¹ï¼Œç‚¹ç‡ƒä½ çš„æ¯ä¸€æ­¥ã€‚', button: 'ç«‹å³æŽ¢ç´¢', imgAlt: 'é£žç‡ƒ3ä»£è·‘æ­¥éž‹' },
            productGrid: { subtitle: 'ç²¾é€‰ä¼˜è´¨è¿åŠ¨è£…å¤‡' },
            productCard: { new: 'æ–°å“', colors: 'ç§é¢œè‰²å¯é€‰', selectOptions: 'é€‰æ‹©é€‰é¡¹' },
            productModal: { model: 'æ¬¾å·', color: 'é¢œè‰²', size: 'å°ºç ', addToCart: 'åŠ å…¥è´­ç‰©è½¦' },
            cart: { title: 'è´­ç‰©è½¦', empty: 'æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„', browse: 'åŽ»é€›é€›', total: 'æ€»è®¡', checkout: 'åŽ»ç»“ç®—', size: 'å°ºç ', color: 'é¢œè‰²', remove: 'åˆ é™¤' },
            loginModal: { title: 'ä¼šå‘˜ç™»å½•', email: 'é‚®ç®±åœ°å€', password: 'ç™»å½•å¯†ç ', loginBtn: 'ç«‹å³ç™»å½•', noAccount: 'è¿˜æ²¡æœ‰361Â°è´¦æˆ·?', registerLink: 'ç«‹å³æ³¨å†Œ' },
            registerModal: { title: 'åˆ›å»ºè´¦æˆ·', name: 'çœŸå®žå§“å', email: 'é‚®ç®±åœ°å€', password: 'ç™»å½•å¯†ç ', confirmPassword: 'ç¡®è®¤å¯†ç ', namePlaceholder: 'è¯·è¾“å…¥æ‚¨çš„å§“å', passwordPlaceholder: 'è‡³å°‘6ä½å­—ç¬¦', confirmPasswordPlaceholder: 'è¯·å†æ¬¡è¾“å…¥å¯†ç ', registerBtn: 'åˆ›å»ºè´¦æˆ·', hasAccount: 'å·²æœ‰è´¦æˆ·?', loginLink: 'ç«‹å³ç™»å½•' },
            footer: {
              brand: { title: '361Â° å“ç‰Œ', desc: 'å¤šä¸€åº¦çƒ­çˆ±ï¼Œå¤šä¸€ä»½ä¸“ä¸šã€‚æˆ‘ä»¬è‡´åŠ›äºŽä¸ºå…¨çƒè¿åŠ¨çˆ±å¥½è€…æä¾›é«˜æ€§ä»·æ¯”çš„ä¸“ä¸šè¿åŠ¨è£…å¤‡ã€‚' },
              customerService: { title: 'å®¢æˆ·æœåŠ¡', helpCenter: 'å¸®åŠ©ä¸­å¿ƒ', shippingInfo: 'é…é€ä¸Žç‰©æµ', returnPolicy: 'é€€æ¢è´§æ”¿ç­–', careGuide: 'ä¿å…»æŒ‡å—', orderQuery: 'è®¢å•æŸ¥è¯¢', invoiceInfo: 'å‘ç¥¨è¯´æ˜Ž', membership: 'ä¼šå‘˜æœåŠ¡' },
              aboutUs: { title: 'å…³äºŽæˆ‘ä»¬', brandStory: 'å“ç‰Œæ•…äº‹', news: 'æ–°é—»ä¸­å¿ƒ', sustainability: 'ç¤¾ä¼šè´£ä»»', careers: 'åŠ å…¥æˆ‘ä»¬', brandPhilosophy: 'å“ç‰Œç†å¿µ', achievements: 'ä¼ä¸šè£èª‰', contactUs: 'è”ç³»æˆ‘ä»¬' },
              subscribe: { title: 'è®¢é˜…æˆ‘ä»¬', desc: 'ç¬¬ä¸€æ—¶é—´èŽ·å–æ–°å“å‘å¸ƒã€ç‹¬å®¶ä¼˜æƒ å’Œå“ç‰Œæ´»åŠ¨ä¿¡æ¯ã€‚', placeholder: 'æ‚¨çš„é‚®ç®±åœ°å€', button: 'è®¢é˜…' },
              copyright: 'Â© 2024 361Â° (ä¸‰å…­ä¸€åº¦) é›†å›¢. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚ é—½ICPå¤‡12345678å·'
            }
          },
          en: {
            title: '361Â° Official Store - One Degree More Passion',
            categories: { all: 'ðŸ‘Ÿ All', running: 'ðŸƒ Running', lifestyle: 'ðŸ‘• Lifestyle', basketball: 'ðŸ€ Basketball', training: 'ðŸ‹ï¸ Training', outdoor: 'â›°ï¸ Outdoor' },
            searchPlaceholder: 'Search your favorite 361Â° products...',
            login: 'Login',
            welcome: 'Welcome',
            logout: 'Logout',
            hero: { title: 'Fei Ran 3, Launching Now', description: 'Born for speed, experience ultimate lightness and rebound, ignite every step.', button: 'Explore Now', imgAlt: 'Fei Ran 3 Running Shoes' },
            productGrid: { subtitle: 'Curated premium sportswear' },
            productCard: { new: 'New', colors: ' Colors Available', selectOptions: 'Select Options' },
            productModal: { model: 'Model', color: 'Color', size: 'Size', addToCart: 'Add to Cart' },
            cart: { title: 'Shopping Cart', empty: 'Your shopping cart is empty', browse: 'Browse Products', total: 'Total', checkout: 'Checkout', size: 'Size', color: 'Color', remove: 'Remove' },
            loginModal: { title: 'Member Login', email: 'Email Address', password: 'Password', loginBtn: 'Login Now', noAccount: "Don't have a 361Â° account?", registerLink: 'Register Now' },
            registerModal: { title: 'Create Account', name: 'Full Name', email: 'Email Address', password: 'Password', confirmPassword: 'Confirm Password', namePlaceholder: 'Please enter your full name', passwordPlaceholder: 'At least 6 characters', confirmPasswordPlaceholder: 'Please confirm your password', registerBtn: 'Create Account', hasAccount: 'Already have an account?', loginLink: 'Login Now' },
            footer: {
              brand: { title: '361Â° Brand', desc: 'One degree more passion, one degree more professionalism. We are dedicated to providing high-performance, value-for-money sportswear for global athletes.' },
              customerService: { title: 'Customer Service', helpCenter: 'Help Center', shippingInfo: 'Shipping & Logistics', returnPolicy: 'Returns & Exchanges', careGuide: 'Care Guide', orderQuery: 'Order Inquiry', invoiceInfo: 'Invoice Info', membership: 'Membership' },
              aboutUs: { title: 'About Us', brandStory: 'Brand Story', news: 'News Center', sustainability: 'Social Responsibility', careers: 'Join Us', brandPhilosophy: 'Brand Philosophy', achievements: 'Corporate Honors', contactUs: 'Contact Us' },
              subscribe: { title: 'Subscribe to Us', desc: 'Be the first to get new product launches, exclusive offers, and brand events.', placeholder: 'Your email address', button: 'Subscribe' },
              copyright: 'Â© 2024 361Â° (San Liu Yi Du) Group. All rights reserved. MinICPå¤‡12345678å·'
            }
          }
        },
        // Methods
        toggleLanguage() {
          this.currentLang = this.currentLang === 'zh' ? 'en' : 'zh';
        },
        init() {
            setTimeout(() => {
                this.isLoading = false;
            }, 500);
        },
        get filteredProducts() {
          if (!this.searchTerm && this.activeCategory === 'all') return this.products;
          return this.products.filter(p => {
            const matchesCategory = this.activeCategory === 'all' || p.category === this.activeCategory;
            const matchesSearch = this.searchTerm.trim() === '' || p.name.toLowerCase().includes(this.searchTerm.toLowerCase()) || p.model.toLowerCase().includes(this.searchTerm.toLowerCase());
            return matchesCategory && matchesSearch;
          });
        },
        displayProductInModal(product) {
            this.selectedProduct = product;
            this.modalImage = product.images[0];
            this.selectedSize = null;
            this.selectedColor = null;
        },
        closeProductModal() {
            this.selectedProduct = null;
        },
        toggleFavorite(productId) {
          if (!this.user) { this.showLoginModal = true; return; }
          const index = this.favorites.indexOf(productId);
          if (index > -1) { 
              this.favorites.splice(index, 1);
              this.showToast(this.languages[this.currentLang].toast.unfavorited);
          } else { 
              this.favorites.push(productId); 
              this.showToast(this.languages[this.currentLang].toast.favorited);
          }
        },
        handleAddToCart() {
            if (!this.user) { 
                this.showLoginModal = true; 
                return; 
            }
            if (!this.selectedSize || !this.selectedColor) {
                this.showToast(this.languages[this.currentLang].toast.selectSizeColor);
                return;
            }
            const cartId = `${this.selectedProduct.id}-${this.selectedSize}-${this.selectedColor}`;
            const existingItem = this.cart.find(item => item.cartId === cartId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                this.cart.push({
                    cartId: cartId,
                    id: this.selectedProduct.id,
                    name: this.selectedProduct.name,
                    image: this.selectedProduct.images[0],
                    salePrice: this.selectedProduct.salePrice,
                    size: this.selectedSize,
                    color: this.selectedColor,
                    quantity: 1
                });
            }
            this.showToast(this.languages[this.currentLang].toast.addedToCart);
            this.closeProductModal();
            setTimeout(() => { this.showCart = true; }, 300);
        },
        removeFromCart(cartId) {
          this.cart = this.cart.filter(item => item.cartId !== cartId);
        },
        updateQuantity(cartId, newQuantity) {
          if (newQuantity < 1) { this.removeFromCart(cartId); return; }
          const item = this.cart.find(item => item.cartId === cartId);
          if (item) item.quantity = newQuantity;
        },
        getTotalPrice() {
          return this.cart.reduce((total, item) => total + (item.salePrice * item.quantity), 0);
        },
        getTotalItems() {
          return this.cart.reduce((total, item) => total + item.quantity, 0);
        },
        handleLogin() {
          if (this.loginForm.email && this.loginForm.password) {
            this.user = { id: 1, email: this.loginForm.email, name: this.loginForm.email.split('@')[0] };
            this.showLoginModal = false;
            this.loginForm = { email: '', password: '' };
            this.showToast(`${this.languages[this.currentLang].toast.welcomeBack}, ${this.user.name}`);
          } else {
            this.showToast(this.languages[this.currentLang].toast.loginError);
          }
        },
        handleRegister() {
          if (this.registerForm.password !== this.registerForm.confirmPassword) {
            this.showToast(this.languages[this.currentLang].toast.passwordMismatch);
            return;
          }
          if (this.registerForm.name && this.registerForm.email && this.registerForm.password) {
            this.user = { id: Date.now(), email: this.registerForm.email, name: this.registerForm.name };
            this.showRegisterModal = false;
            this.registerForm = { name: '', email: '', password: '', confirmPassword: '' };
            this.showToast(`${this.languages[this.currentLang].toast.welcome}, ${this.user.name}! ${this.languages[this.currentLang].toast.accountCreated}`);
          } else {
            this.showToast(this.languages[this.currentLang].toast.fillInfo);
          }
        },
        logout() {
          this.showToast(`${this.languages[this.currentLang].toast.goodbye}, ${this.user.name}`);
          this.user = null;
          this.cart = [];
          this.favorites = [];
        },
        showToast(message) {
            if (this.toast.timer) clearTimeout(this.toast.timer);
            this.toast.message = message;
            this.toast.show = true;
            this.toast.timer = setTimeout(() => {
                this.toast.show = false;
            }, 3000);
        }
      }
    }
  </script>
</body>
</html>
